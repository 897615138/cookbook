<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>下厨房-个人主页</title>
    <!-- ace styles -->
    <link rel="stylesheet" href="./static/css/ace.min.css"/>
    <link rel="stylesheet" type="text/css" href="./static/bootstrap-3.3.7-dist/css/bootstrap.css">
    <link rel="stylesheet" href="./static/css/commons.css">
    <link rel="stylesheet" href="./static/css/bootoast.css">
    <link rel="shortcut icon" href="./static/images/kaola.ico" type="image/x-icon"/>
    <style>

        /* Custom Styles */
        ul.nav-tabs {
            text-align: center;
            width: 200px;
            margin-top: 60px;
            margin-left: 100px;
            border-radius: 4px;
            border: 1px solid #ddd;
            box-shadow: 0 1px 4px rgba(0, 0, 0, 0.067);
        }

        ul.nav-tabs li {
            height: 100px;
            margin: 0;
            border-top: 1px solid #ddd;
        }

        ul.nav-tabs li:first-child {
            border-top: none;
        }

        ul.nav-tabs li a {
            height: 100%;
            margin: 0;
            padding: 40px;
            border-radius: 0;
        }

        ul.nav-tabs li.active a, ul.nav-tabs li.active a:hover {
            color: gray;
            background: #DAFCCB;
            border: 1px solid #DAFCCB;
        }

        ul.nav-tabs li:first-child a {
            border-radius: 4px 4px 0 0;
        }

        ul.nav-tabs li:last-child a {
            border-radius: 0 0 4px 4px;
        }

        ul.nav-tabs.affix {
            top: 30px; /* Set the top position of pinned element */
        }

        td {
            float: left;
            width: 150px;
            height: 150px;
            /*margin-left: 25px;*/
            /*margin-bottom: 30px;*/
            margin: 15px 15px;
        }

        .secTo {
            margin-top: 0px;
        }

        ul.nav-pills li.active a, ul.nav-pills li.active a:hover, ul.nav-pills li.active a:focus {
            color: gray;
            background-color: #DAFCCB;
            border: 1px solid #DAFCCB;
        }
        body{
            background-image: url(static/images/bg.jpg);
        }

    </style>
    <style>
        /* 注意，本类样式无需写样式清除 */
        .menu-container, #dish-container {
            width: 555px;
            height: 360px;
            background-color: #F1F1F1;
            padding-top: 25px;
            display: flex;
            flex-wrap: wrap;
        }

        .item {
            width: 150px;
            height: 150px;
            text-align: center;
            font-size: 12px;
            margin: 0 0 25px 25px;
        }

        .menu-banner {
            position: relative;
            margin-bottom: 10px;
            width: 150px;
            height: 150px;
            background-image: url(https://document.youkeda.com/P3-1-HTML-CSS/1.9/weibo-banner.jpg);
            background-size: cover;
        }

        .menu-info {
            width: 150px;
            float: left;
        }

        .menu-main {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 60px;
            padding-left: 10px;
            color: #fff;
            background: linear-gradient(to bottom, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.9));
        }


        .menu-title {
            margin-top: 10px;
            font-size: 18px;
            font-weight: 700;
            line-height: 20px;
            overflow: hidden;
            white-space: nowrap;
            text-overflow: ellipsis;
        }

        .menu-ext {
            width: 130px;
            margin-top: 4px;
            font-size: 10px;
            line-height: 20px;
        }

        .menu-discuss {
            margin-right: 20px;
        }

        .fun-item, .follower-item {
            margin: 20px 40px 40px 40px;
        }

        ul {
            background-color: transparent;
        }

        ul a {
            color:#000;
        }
    </style>
</head>
<body style="background-color:#EFF2F5;height: 700px">
<div class="container-fluid" style="position: relative">
    <!--导航栏-->
    <div class="collapse navbar-collapse" id="example-navbar-collapse"
         style="width: 1460px;margin: auto;background-color: #c7f4b7;">
        <!--左边的首页等—-->
        <ul class="nav navbar-nav menulist navbar-left">
            <li><a href="index">首页</a></li>
            <li><a href="sortcook">菜单</a></li>
        </ul>
        <!--是否登录-->
        <ul class="nav navbar-nav navbar-right " id="isLogin" style="width:10%;">

        </ul>

        <form class="navbar-form navbar-right" role="search">
            <div class="form-group" style="height: 100%;margin-top: 0px">
                <label>
                    <input type="text" placeholder="请输入您要搜索的菜谱名称" name="dishName" class="form-control searchinput"
                           style="width: 224px;margin-top: 2px; border-radius: 15px!important;"/>
                </label>
                <a href="javascript:void (0)" style="color: #000;" class="searchimg">
                    <img  src="./static/images/icons/搜索.svg" alt="" class="searchimg tt">
                </a>
                <!--                <input type="button" class="bjsearch searchimg" value="搜索">-->

            </div>
        </form>
    </div>
    <!--主体-->
    <div class="container">
        <div class="row" style="height: 500px">
            <!--左侧导航栏-->
            <div class="col-sm-3" id="body-nav" style="margin-bottom: 25px;margin-left: -30px">
                <ul class="nav nav-tabs nav-stacked">
                    <li class="nav-choose active"><a href="#section-1" class="section" data-section="section-1">个人资料</a>
                    </li>
                    <li class="nav-choose"><a href="#section-2" class="section" data-section="section-2" id="myMenu">我的收藏</a></li>
                    <li class="nav-choose"><a href="#section-3" class="section" data-section="section-3" id="myDish">我的菜谱</a>
                    </li>
                    <li class="nav-choose"><a href="#section-4" class="section" data-section="section-4"
                                              id="showFollower">我关注的</a></li>
                    <li class="nav-choose"><a href="#section-5" class="section" data-section="section-5" id="showFan">我的粉丝</a>
                    </li>
                </ul>
            </div>
            <div class="col-sm-9">
                <!--个人资料-->
                <div class="row secTo" id="section-1" style="display: block;height: 500px;margin-left: 30px">
                    <div class="col-sm-10">
                        <h2>个人资料</h2>
                        <!--修改资料-->
                        <div style="float: right">
                            <!-- 按钮触发模态框 -->
                            <a data-toggle="modal" data-target="#changeUserInfo"
                               class="changeUserInfo btn btn-success">修改资料</a>
                            <a class="btn btn-warning" id="deleteUser">注销用户</a>
                        </div>
                    </div>
                    <div class="col-sm-10" style="position: relative;margin-top: 10px">
                        <div class="row">
                            <div class="user-icon" style="position: relative;margin-left: 70px">
                                <div class="circle col-sm-3">
                                    <img class="img-circle" id="user-picture" src=""
                                         style="width: 90px;height: 90px">
                                    <br>
                                    <span id="nickname"
                                          style="display: block;text-align:center;width: 90px;margin-top: 10px">
                                    用户名
                                </span>
                                </div>
                                </span>
                                <ul style="margin-left: 10px;">
                                    <li class="col-sm-3"
                                        style="list-style: none; border-right:1px solid #21272b;top: 30px;text-align: center;">
                                        点赞
                                        <br>
                                        <span id="likerCount">
                                        200
                                    </span>
                                    </li>
                                    <li class="col-sm-3"
                                        style="list-style: none; border-right:1px solid #21272b;top: 30px;text-align: center;">
                                        粉丝
                                        <br>
                                        <span id="followerCount">
                                        100
                                    </span>
                                    </li>
                                    <li class="col-sm-3"
                                        style="list-style: none;top: 30px;text-align: center;">
                                        原创
                                        <br>
                                        <span id="dishCount">
                                        100
                                    </span>
                                    </li>
                                </ul>
                            </div>
                        </div>
                        <div class="row" style="margin-top: 60px;margin-left: 50px">
                            <blockquote>
                                邮箱：<span id="user-email">123456@qq.com</span>
                                <p style="margin-top: 5px">
                                    个性签名：这个人很懒，什么都没写
                                </p>
                            </blockquote>
                        </div>
                    </div>
                </div>
                <!--个人收藏-->
                <div class="row secTo" id="section-2" style="display: none;height: 500px;margin-left: 30px">
                    <div class="col-sm-10">
                        <h2>我的收藏</h2>
                    </div>
                    <div class="row" style="margin-top: 100px">
                        <div class="col-sm-3">
                            <ul class="nav nav-pills nav-stacked choCollectionContainer">
                                <li class="chooseCollection" id="createMenu" data-toggle="modal"
                                    data-target="#createMenuInfo"><a href="javascript:">新建收藏</a></li>
                                <li class="chooseCollection" id="updateMenu" data-toggle="modal"
                                    data-target="#changeMenuInfo"><a href="javascript:">修改收藏</a></li>
                                <li class="chooseCollection" id="deleteMenu" data-toggle="modal"
                                    data-target="#deleteMenuInfo"><a href="javascript:">删除收藏</a></li>
                                <ul class="nav nav-pills nav-stacked" id="menuList" data-curr-menu-id=""
                                    data-curr-menu-name="">

                                </ul>
                            </ul>
                        </div>
                        <div class="col-sm-9">
                            <div class="row">
                                <div style="background-color: black">

                                </div>
                                <div class="menu-container">

                                </div>
                            </div>
                            <div class="row" style="width: 555px">
                                <div class="text-center col-sm-12" style="margin:0 auto">
                                    <ul class="pagination" id="menu-page">

                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!--我的菜谱-->
                <div class="row secTo" id="section-3" style="display: none;height: 500px;margin-left: 30px">
                    <div class="col-sm-10">
                        <h2>我的菜谱</h2>
                    </div>
                    <div class="row" style="margin-top: 100px">
                        <div class="col-sm-3">
                            <ul class="nav nav-pills nav-stacked op-dish-container" id="dish" data-curr-dish-id="">
                                <li class="op-dish"><a href="javascript:" id="chooseDish">选择菜谱</a></li>
                                <li class="op-dish"><a href="javascript:" id="addDish">增加菜谱</a></li>
                                <li class="op-dish"><a href="javascript:" id="deleteDish">删除菜谱</a></li>
                                <li class="op-dish"><a href="javascript:" id="updateDish">修改菜谱</a></li>
                            </ul>
                        </div>
                        <div class="col-sm-9">
                            <div class="row">
                                <div style="background-color: black">

                                </div>
                                <div id="dish-container">

                                </div>
                            </div>
                            <div class="row" style="width: 555px">
                                <div class="text-center col-sm-12" style="margin:0 auto">
                                    <ul class="pagination" id="dish-page">

                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!--我的关注-->
                <div class="row secTo" id="section-4" style="display: none;height: 500px;margin-left: 30px">
                    <div class="col-sm-10">
                        <h2>我关注的</h2>
                    </div>
                    <div class="row">
                        <div class="col-sm-10" style="margin: 8% 10px;">
                            <div class="otherContainer" id="followerContainer"
                                 style="display: flex;flex-wrap: wrap;width: 700px">

                            </div>

                        </div>
                    </div>
                </div>
                <!--我的粉丝-->
                <div class="row secTo" id="section-5" style="display: none;height: 500px;margin-left: 30px">
                    <div class="col-sm-10">
                        <h2>我的粉丝</h2>
                    </div>
                    <div class="row">
                        <div class="col-sm-10" style="margin: 8% 10px;">
                            <div class="otherContainer" id="fanContainer"
                                 style="display: flex;flex-wrap: wrap;width: 700px">

                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row" style="height: 100px;">
            <div class="footer" style="bottom: 0">
                <div class="row" style="margin-top:100px">
                    <div class="col-md-1 col-sm-3" style="height: 100px;"></div>
                    <div class="col-md-1 col-sm-3" style="height: 100px;width: 100px">
                        <img  src="./static/images/logo.png" alt="这是一个logo"
                             style=" width: 74px; height: 88px; margin-top: 26px;margin-left: 19px">
                    </div>
                    <div class="col-md-5 col-sm-6" style="height: 100px;">
                        <p class="footer_link">网站首页&nbsp;&nbsp;&nbsp;帮助中心&nbsp;&nbsp;&nbsp;联系我们&nbsp;&nbsp;&nbsp;客户服务&nbsp;&nbsp;&nbsp;隐私政策
                            &nbsp;&nbsp;&nbsp;意见反馈</p>
                        <p>Copyright © 2020SUMMER All Rights Reserved.</p>
                    </div>
                    <div class="col-md-1 col-sm-1" style="height: 100px;"></div>

                    <div class="col-md-3 col-sm-4" style="height: 100px;    margin-top: 23px;">
                        <img class="pic qq"  src="./static/images/share/QQ.svg" alt="QQ">
                        <img class="pic"  src="./static/images/share/wechat.svg" alt="wechat">
                        <img class="pic"  src="./static/images/share/blog.svg" alt="blog">
                    </div>
                    <div class="col-md-2 col-sm-1"></div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- 模态框（Modal） -->
<!--用户信息修改模态框-->
<div class="modal fade" id="changeUserInfo" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
     aria-hidden="true">
    <form id="updateForm">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h4 class="modal-title" id="myModalLabel">用户信息修改</h4>
                </div>
                <div class="modal-body">
                    <!--                    用户userId-->
                    <input type="hidden" value="" name="userId">
                    <!--                    用户名userName-->
                    <div class="form-group row">
                        <label for="userName" class="col-sm-2 control-label">用户账号</label>
                        <div class="col-sm-6">
                            <input type="text" class="form-control" id="userName" name="userName" readonly
                                   placeholder="">
                        </div>
                    </div>
                    <!--                    用户昵称userNickName-->
                    <div class="form-group row">
                        <label for="userNickname" class="col-sm-2 control-label">用户昵称</label>
                        <div class="col-sm-6">
                            <input type="text" class="form-control" id="userNickname" name="userNickname"
                                   placeholder="">
                        </div>
                    </div>
                    <!--                    用户密码userPassword-->
                    <input type="hidden" value="" name="userPassword">
                    <!--                    用户邮箱userMail-->
                    <div class="form-group row">
                        <label for="userMail" class="col-sm-2 control-label">邮箱:</label>
                        <div class="col-sm-6">
                            <input type="text" class="form-control" id="userMail" name="userMail" placeholder="">
                        </div>
                    </div>
                    <!--                    用户头像userPicture-->
                    <div class="form-group row">
                        <label for="userPicture" class="col-sm-2 control-label">用户头像</label>
                        <div class="col-sm-6">
                            <img src="" style="width: 90px;height: 90px">
                            <input type="hidden" class="form-control" id="userPicture" name="userPicture"
                                   placeholder="">
                        </div>
                    </div>
                    <!--                    用户创建时间userUpdateTime-->
                    <input type="hidden" value="" name="userCreateTime">
                    <!--                    用户是否删除userDelete-->
                    <input type="hidden" value="" name="userDelete">
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
                    <button type="button" class="btn btn-primary" id="update">提交更改</button>
                </div>
            </div><!-- /.modal-content -->
        </div><!-- /.modal -->
    </form>
</div>
<!--收藏夹信息修改模态框-->
<div class="modal fade" id="changeMenuInfo" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" 、
     aria-hidden="true">
    <form id="menuUpdateForm">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h4 class="modal-title" id="myMenuModalLabel">收藏夹信息修改</h4>
                </div>
                <div class="modal-body">
                    <!--                    收藏夹menuId-->
                    <input type="hidden" value="" name="menuId">
                    <!--                    用户userId-->
                    <input type="hidden" value="" name="userId">
                    <!--                    收藏夹名字menuName-->
                    <div class="form-group row">
                        <label for="userName" class="col-sm-2 control-label">名称</label>
                        <div class="col-sm-6">
                            <input type="text" class="form-control" id="menuName" name="menuName" placeholder="">
                        </div>
                    </div>
                    <!--                    收藏夹是否删除menuDelete-->
                    <input type="hidden" value="" name="menuDelete">
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
                    <button type="button" class="btn btn-primary" id="menuUpdate">提交更改</button>
                </div>
            </div><!-- /.modal-content -->
        </div><!-- /.modal -->
    </form>
</div>
<!--新建收藏夹模态框-->
<div class="modal fade" id="createMenuInfo" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" 、
     aria-hidden="true">
    <form id="menuCreateForm">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h4 class="modal-title" id="createMenuModalLabel">创建收藏夹</h4>
                </div>
                <div class="modal-body">
                    <!--                    收藏夹menuId-->
                    <input type="hidden" value="" name="menuId">
                    <!--                    用户userId-->
                    <input type="hidden" value="" name="userId">
                    <!--                    收藏夹名字menuName-->
                    <div class="form-group row">
                        <label for="userName" class="col-sm-2 control-label">名称</label>
                        <div class="col-sm-6">
                            <input type="text" class="form-control" id="createMenuName" name="menuName" placeholder="">
                        </div>
                    </div>
                    <!--                    收藏夹是否删除menuDelete-->
                    <input type="hidden" value="" name="menuDelete">
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
                    <button type="button" class="btn btn-primary" id="menuCreate">提交更改</button>
                </div>
            </div><!-- /.modal-content -->
        </div><!-- /.modal -->
    </form>
</div>
<!--删除收藏夹模态框-->
<div class="modal fade" id="deleteMenuInfo" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" 、
     aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 class="modal-title" id="deleteMenuModalLabel">删除收藏夹</h4>
            </div>
            <div class="modal-body">
                <p>
                    确定删除该收藏夹吗？
                </p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
                <button type="button" class="btn btn-primary" id="menuDelete">确定更改</button>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal -->
</div>

<script  src="./static/bootstrap-3.3.7-dist/jquery-3.2.1.min.js"></script>
<script  src="./static/bootstrap-3.3.7-dist/js/bootstrap.js"></script>
<script  src="./static/js/bootoast.js"></script>
<script  src="./static/js/nav.js"></script>
<script  src="./static/js/userPage.js"></script>
<script>
    (function () {
        //验证是否登录成功
        isLoginUser();
        //打印用户信息
        showUserData();
        //锚点修改
        changeSection();
        //选定导航栏变色
        changeActive('#body-nav', '.nav-choose');
        changeActive('.choCollectionContainer', '.chooseCollection');
        changeActive('.op-dish-container', '.op-dish');
        //用户信息更新
        readyToUpdate();
        //更新用户监听
        updateUser();
        //删除用户监听
        deleteUser();
        //展示收藏夹信息
        clickMenuButton();
        //监听收藏page按钮点击
        clickPage();
        //更新收藏夹信息监听
        readyToUpdateMenu();
        //新建收藏夹
        createUserMenu();
        //删除收藏夹
        deleteUserMenu();
        //修改收藏夹
        updateMenu();
        //监听收藏选定
        chooseMenu();
        //监听收藏夹页面菜谱点击
        clickMenuDish();
        //我的粉丝显示
        showFan();
        //关注我的显示
        showFollower();

        //菜谱展示
        showUserDishes();
        //菜谱分页监听
        clickDishPage();
        //菜谱相关操作
        //是否是删除操作
        let isDeleteDish = false;
        //是否是修改操作
        let isUpdateDish = false;
        //是否是选择菜谱
        let isChooseDish = true;
        //增加菜谱
        addDish();
        //删除菜谱
        deleteDish();
        //修改菜谱
        updateDish();
        //选择菜谱
        chooseDish();
        //监听菜谱点击，执行具体操作
        dishOp();

        //从收藏夹中移除菜谱
        removeDishFromMenu();

        //监听查看他人页面
        viewOtherUser()
    })()
</script>
</body>
</html>